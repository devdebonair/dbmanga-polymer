<link rel="import" type="text/html" href="/lib/paper-header-panel/paper-header-panel.html">
<link rel="import" type="text/html" href="/lib/paper-toolbar/paper-toolbar.html">
<link rel="import" type="text/html" href="/lib/iron-icons/iron-icons.html">
<link rel="import" type="text/html" href="/lib/iron-iconset-svg/iron-iconset-svg.html">
<link rel="import" type="text/html" href="/lib/paper-icon-button/paper-icon-button.html">
<dom-module id="debonair-header">
	<style>
		section {
			color: #EF5350;
		}

		#header-toolbar {
			background-color: #FFF;
		}

		#header-home-link {
			font-size: 24px;
			color: #EF5350;
			text-decoration: none;
			letter-spacing: 5px;
		}

		.no-display {
			display: none;
		}

		.block-display {
			display: block;
		}

		input {
			background-color: inherit;
			border: none;
			font-size: 20px;
			outline: none;
			cursor: auto;
			color: #EF5350;
			letter-spacing: 5px;
			text-transform: uppercase;
			display: table-cell;
			width: 100%;
		}

		@media(max-width: 320px) {
			#header-home-link {
				font-size: 20px;
			}
		}
	</style>
	<template>
		<paper-header-panel id="header">
			<paper-toolbar id="header-toolbar">

				<section id="left" class="toggable">
					<paper-icon-button icon="menu"></paper-icon-button>
				</section>

				<section id="center" class="flex toggable">
					<div class="horizontal center-justified layout">
						<span id="header-title"><a id="header-home-link" href="/">DEBONAIR MANGA</a></span>
					</div>
				</section>

				<section id="right">
					<paper-icon-button icon="search" on-click="toggleSearch"></paper-icon-button>
				</section>

				<section id="header_search" class="flex no-display">
					<input id="header_search_bar" type="search" autocomplete="off" on-focusout="toggleSearch" on-keyup="searchInput">
				</section>

			</paper-toolbar>
		</paper-header-panel>
	</template>
</dom-module>

<script type="text/javascript">
	Polymer({
		is: "debonair-header",
		ready: function()
		{
			this.searchActivated = false;
		},
		toggleSearch: function()
		{
			this.searchActivated = !this.searchActivated;
			var toggables = document.getElementsByClassName('toggable');
			for(var i = 0; i < toggables.length; i++)
			{
				if(this.searchActivated)
				{
					toggables[i].classList.add('no-display');
					this.$.header_search.classList.remove('no-display');
					this.$.header_search_bar.focus();
				}
				else
				{
					toggables[i].classList.remove('no-display');
					this.$.header_search.classList.add('no-display');
					this.$.header_search_bar.value = '';
				}
			}
		},
		searchInput: function(e)
		{
			if(e.keyCode === 27)
			{
				this.$.header_search_bar.blur();
			}
		}
	});
</script>